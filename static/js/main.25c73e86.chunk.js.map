{"version":3,"sources":["components/Cell.tsx","components/Automata.tsx","utils/cellUtils.ts","components/AutomataConfig.tsx","components/Rule.tsx","components/ConfigRulesSection.tsx","components/ImportRulesSection.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Cell","props","cell","onClick","index","className","style","active","background","console","log","Automata","cells","black","filter","length","white","map","key","randomArray","boardWidth","Array","fill","undefined","Math","floor","random","randomRule","count","val","value","emptyArray","applyRule","row","neighborhood","rules","ruleIndex","j","idx","findRule","alert","AutomataConfig","setBoardWidth","setNeighborhood","delay","setDelay","maxNumberSteps","setMaxNumberSteps","pattern","onChange","rows","parseInt","currentTarget","name","id","e","target","toString","defaultValue","type","maxSteps","Rule","rule","ruleLength","binaryIndex","padStart","from","bit","ConfigRulesSection","setRules","numberOfRules","newRules","ImportRulesSection","useState","json","setJSON","cols","event","placeholder","jsonParsed","JSON","parse","initConfig","data","neighborhoodJson","cellular_length","steps","pow","App","running","setRunning","iterations","setIteration","setCells","React","useEffect","nextInterval","newRows","generatedNewRow","generateNewRow","push","_setRunning","isRunning","clearInterval","setInterval","arr1","arr2","i","compareArrays","actions","newCell","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.25c73e86.chunk.js","sourcesContent":["import React from 'react';\r\nimport { CellType, OnClickCell } from \"../models/cellModel\";\r\n\r\ntype CellProps = {\r\n    index: number\r\n    cell: CellType\r\n    onClick?: OnClickCell\r\n}\r\n\r\nconst Cell: React.FC<CellProps> = props => {\r\n    const {cell, onClick, index} = props\r\n\r\n    return (\r\n        <div\r\n            className=\"cell\"\r\n            style={cell.active ? {background: \"black\"} : {background: \"white\"}}\r\n            onClick={() => onClick ? onClick(cell, index) : console.log(\"you can change cells only in the first iteration\")}\r\n        />\r\n    )\r\n};\r\n\r\nexport default Cell;\r\n","import React from 'react';\r\nimport Cell from \"./Cell\";\r\nimport { CellType, OnClickCell } from \"../models/cellModel\";\r\n\r\ntype AutomataProps = {\r\n    cells: CellType[]\r\n    onClick?: OnClickCell\r\n}\r\n\r\nconst Automata: React.FC<AutomataProps> = props => {\r\n    const { cells, onClick } = props\r\n\r\n    const black = cells.filter(cell => cell.active).length\r\n    const white = cells.filter(cell => !cell.active).length\r\n    return (\r\n        <div className=\"row\">\r\n            {cells.map((cell, key) => <Cell cell={cell} key={key} index={key} onClick={onClick}/>)}\r\n            <div className=\"paddingLeft\">\r\n                <p>(black: {black}, white: {white})</p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Automata;\r\n","import { CellType, RuleType } from \"../models/cellModel\";\r\n\r\nexport const randomArray = (boardWidth: number): CellType[] => Array(boardWidth).fill(undefined).map(() => {\r\n    const randomNumber = Math.floor(Math.random() * 10);\r\n    if (randomNumber % 2 === 0) {\r\n        return { active: true }\r\n    }\r\n    return { active: false }\r\n})\r\n\r\nexport const randomRule = (count: number): RuleType[] => Array(count).fill(0).map((val, index) =>\r\n    ({\r\n        value: Math.floor(Math.random() * 10) % 2 === 0,\r\n        index: index\r\n    }))\r\n\r\nexport const emptyRule = (count: number): RuleType[] => Array(count).fill(0).map((val, index) =>\r\n    ({\r\n        value: false,\r\n        index: index\r\n    }))\r\n\r\nexport const emptyArray = (boardWidth: number): CellType[] => Array(boardWidth).fill(undefined).map(() => ({\r\n    active: false\r\n}))\r\n\r\nexport const compareArrays = (arr1: CellType[], arr2: CellType[]) => {\r\n    for (let i = 0; i < arr1.length; i++) {\r\n        if (arr1[i].active !== arr2[i].active) {\r\n            return false\r\n        }\r\n    }\r\n    return true\r\n}\r\n\r\nconst findRule = (index: number, row: CellType[], neighborhood: number): number => {\r\n    let j = 1;\r\n    let ruleIndex = 0;\r\n    for (let idx = index + neighborhood; idx >= index - neighborhood; idx--) {\r\n        console.log(\"text\", j)\r\n        ruleIndex += (row[idx] !== undefined && row[idx].active ? 1 : 0) * j;\r\n        j = j + j;\r\n    }\r\n    return ruleIndex;\r\n}\r\n\r\nconst applyRule = (index: number, row: CellType[], neighborhood: number, rules: RuleType[]): boolean => {\r\n    const ruleIndex = findRule(index, row, neighborhood);\r\n    console.log(\"applyRule\", ruleIndex, row, index, rules);\r\n\r\n    if (rules[ruleIndex] === undefined){\r\n        alert(\"Please reinit the rules\");\r\n        return false;\r\n    }\r\n    return rules[ruleIndex].value;\r\n\r\n}\r\n\r\n// Go through all the row and evaluate next iteration (by looking at the neighbors of each cell)\r\nexport const generateNewRow = (row: CellType[], neighborhood: number, rules: RuleType[]): CellType[] =>\r\n    row.map((cell, index) => ({ ...cell, active: applyRule(index, row, neighborhood, rules) })\r\n)\r\n","import React from \"react\";\r\nimport { SetNumberFunction } from \"../models/cellModel\";\r\n\r\ntype AutomataConfigProps = {\r\n    boardWidth: number\r\n    setBoardWidth: SetNumberFunction\r\n    neighborhood: number\r\n    setNeighborhood: SetNumberFunction\r\n    delay: number\r\n    setDelay: SetNumberFunction\r\n    maxNumberSteps: number\r\n    setMaxNumberSteps: SetNumberFunction\r\n}\r\n\r\nconst AutomataConfig: React.FC<AutomataConfigProps> = (props) => {\r\n    const {\r\n        boardWidth,\r\n        setBoardWidth,\r\n        neighborhood,\r\n        setNeighborhood,\r\n        delay,\r\n        setDelay,\r\n        maxNumberSteps,\r\n        setMaxNumberSteps,\r\n    } = props;\r\n    const selectNeighborhood = (e: any) => {\r\n        const val = e.target.value\r\n        setNeighborhood(parseInt(val))\r\n    }\r\n\r\n    return (\r\n        <div className={\"row\"}>\r\n            <div className={\"configItem field\"}>\r\n                <div className=\"field-label is-normal\">\r\n                    <label className=\"label\">Number of rows: </label>\r\n                </div>\r\n\r\n                <div className=\"field-body\">\r\n                    <input\r\n                        className=\"input shortInput\"\r\n                        pattern=\"^\\d*$\"\r\n                        value={boardWidth}\r\n                        onChange={(val) => {\r\n                            const rows = parseInt(val.currentTarget.value)\r\n                            if (rows >= 1 && rows <= 100) {\r\n                                setBoardWidth(rows)\r\n                            }\r\n                        }}/>\r\n                </div>\r\n            </div>\r\n            <div className={\"configItem\"}>\r\n                <label className=\"label\">Neighborhood: </label>\r\n                <div className=\"select\">\r\n                    <select name=\"sur\" id=\"neighborhood\" onChange={selectNeighborhood}\r\n                            value={neighborhood.toString()}>\r\n                        <option value=\"1\">1-neighborhood</option>\r\n                        <option value=\"2\">2-neighborhood</option>\r\n                        <option value=\"3\">3-neighborhood</option>\r\n                        <option value=\"4\">4-neighborhood</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div className={\"configItem\"}>\r\n                <label className=\"label\">Delay: </label>\r\n                <input\r\n                    className=\"input shortInput\"\r\n                    pattern=\"^\\d*$\"\r\n                    defaultValue={delay}\r\n                    type=\"number\"\r\n                    onChange={(val) => {\r\n                        const delay = parseInt(val.currentTarget.value)\r\n                        setDelay(delay)\r\n                    }}/>\r\n            </div>\r\n            <div className={\"configItem\"}>\r\n                <label className=\"label\">Maximum number of steps: </label>\r\n                <input\r\n                    className=\"input shortInput\"\r\n                    pattern=\"^\\d*$\"\r\n                    value={maxNumberSteps}\r\n                    type=\"number\"\r\n                    onChange={(val) => {\r\n                        const maxSteps = parseInt(val.currentTarget.value)\r\n                        setMaxNumberSteps(maxSteps)\r\n                    }}/>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AutomataConfig;\r\n","import React from \"react\";\r\nimport Cell from \"./Cell\";\r\nimport { OnClickCell, RuleType } from \"../models/cellModel\";\r\n\r\ntype RuleProps = {\r\n    rule: RuleType\r\n    ruleLength: number\r\n    onClick: OnClickCell\r\n}\r\n\r\nconst Rule: React.FC<RuleProps> = (props) => {\r\n    const { rule, ruleLength, onClick } = props;\r\n    const { index, value } = rule;\r\n    console.log(rule,\"rule\");\r\n    const binaryIndex = index.toString(2).padStart(ruleLength, \"0\");\r\n    const ruleIndex = [...Array.from(binaryIndex)].map(((bit, idx) => <Cell index={idx}\r\n                                                                            cell={{ active: !!parseInt(bit) }}/>));\r\n    console.log(binaryIndex, index);\r\n    return (\r\n        <div className=\"column\">\r\n            <div className=\"row\">\r\n                {ruleIndex}\r\n            </div>\r\n            <div className=\"row\">\r\n            <Cell index={index} cell={{ active: value }} onClick={onClick}/>\r\n            </div>\r\n        </div>)\r\n}\r\n\r\nexport default Rule;\r\n","import Rule from \"./Rule\";\r\nimport React from \"react\";\r\nimport { CellType, RuleType } from \"../models/cellModel\";\r\nimport { emptyRule, randomRule } from \"../utils/cellUtils\";\r\n\r\ntype ConfigRulesProps = {\r\n    rules: RuleType[]\r\n    ruleLength: number\r\n    setRules: (a: RuleType[]) => void\r\n}\r\n\r\nconst ConfigRulesSection: React.FC<ConfigRulesProps> = (props) => {\r\n    const { rules, ruleLength, setRules } = props\r\n\r\n    const numberOfRules = rules.length\r\n    const clearRules = () => {\r\n        setRules(emptyRule(numberOfRules))\r\n    }\r\n    const randomInitRules = () => {\r\n        setRules(randomRule(numberOfRules))\r\n    }\r\n\r\n    const onClick = (cell: CellType, key: number) => {\r\n        const newRules = [...rules]\r\n        newRules[key] = {...newRules[key], value: ! newRules[key].value}\r\n        setRules(newRules)\r\n    }\r\n    return (\r\n        <div className=\"section card\">\r\n            <h3 className=\"subtitle\">Create rules manually</h3>\r\n            <div className=\"columns is-multiline\">\r\n                {rules.map(((rule, key) =>\r\n                        <Rule rule={rule} ruleLength={ruleLength} key={key} onClick={onClick}/>\r\n                ))}\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className={\"configItem\"}>\r\n                    <button className=\"button is-info\" onClick={randomInitRules}>Random Init rules</button>\r\n                </div>\r\n                <div className={\"configItem \"}>\r\n                    <button className=\"button is-danger\" onClick={clearRules}>Clear rules</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ConfigRulesSection;\r\n","import React, { useState } from \"react\";\r\nimport { RuleType, SetNumberFunction } from \"../models/cellModel\";\r\n\r\ntype ImportRulesSectionProps = {\r\n    setNeighborhood: SetNumberFunction\r\n    setRules: (a: RuleType[]) => void\r\n    setBoardWidth: SetNumberFunction\r\n    setMaxNumberSteps: SetNumberFunction\r\n}\r\n\r\nconst ImportRulesSection:React.FC<ImportRulesSectionProps> = (props) => {\r\n    const {setNeighborhood, setRules, setBoardWidth, setMaxNumberSteps} = props\r\n    const [json, setJSON] = useState(\"\")\r\n\r\n    const handleChangeJson = (event: any) => {\r\n        setJSON(event.target.value)\r\n    }\r\n    const initFromJson = () => {\r\n        try {\r\n            const jsonParsed = JSON.parse(json);\r\n            const initConfig: number[] = jsonParsed.data;\r\n            const neighborhoodJson: number = parseInt(jsonParsed.neighborhood);\r\n            const cellular_length: number = parseInt(jsonParsed.cellular_length);\r\n            const steps: number = parseInt(jsonParsed.steps);\r\n            if (initConfig && neighborhoodJson) {\r\n                const ruleLength = Math.pow(2, neighborhoodJson * 2 + 1);\r\n                if (ruleLength !== initConfig.length) {\r\n                    alert(\"Rule length must be \" + ruleLength)\r\n                } else {\r\n                    setMaxNumberSteps(steps);\r\n                    setBoardWidth(cellular_length)\r\n                    setNeighborhood(neighborhoodJson);\r\n                    setRules(initConfig.map((value, index) => ({ value: !!value, index: index })));\r\n                }\r\n            }\r\n        } catch (e) {\r\n            alert(\"Invalid json\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"section\">\r\n            <h3 className=\"subtitle\">Import rules</h3>\r\n            <div className=\"jsonDiv\">\r\n                <textarea className=\"textarea\" rows={4} cols={50} onChange={handleChangeJson}\r\n                          placeholder={\"Insert JSON values from script\"}></textarea>\r\n            </div>\r\n            <br/>\r\n            <button className=\"button is-primary\" onClick={initFromJson}>Inicialize rules</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImportRulesSection;\r\n","import React, { useState } from 'react';\nimport './App.css';\nimport Automata from \"./components/Automata\";\nimport { CellType, RuleType } from \"./models/cellModel\";\nimport { compareArrays, emptyArray, generateNewRow, randomArray, randomRule } from \"./utils/cellUtils\";\nimport AutomataConfig from \"./components/AutomataConfig\";\nimport ConfigRulesSection from \"./components/ConfigRulesSection\";\nimport ImportRulesSection from \"./components/ImportRulesSection\";\n\nconst defaultNumberOfCells = 10\nconst defaultNumberOfMaxSteps = 20\nconst defaultDelay = 1000\n\nconst App: React.FC = () => {\n    const [boardWidth, setBoardWidth] = useState<number>(defaultNumberOfCells);\n    const [neighborhood, setNeighborhood] = useState<number>(1);\n    const [running, setRunning] = useState<NodeJS.Timeout | undefined>(undefined);\n    const [delay, setDelay] = useState<number>(defaultDelay);\n    const [iterations, setIteration] = useState<number>(0);\n    const [cells, setCells] = useState<CellType[][]>([randomArray(boardWidth)]);\n    const [maxNumberSteps, setMaxNumberSteps] = useState<number>(defaultNumberOfMaxSteps);\n    const ruleLength = neighborhood * 2 + 1;\n    const numberOfRules = Math.pow(2, ruleLength);\n    const [rules, setRules] = useState<RuleType[]>(randomRule(numberOfRules));\n\n    React.useEffect(() => {\n        setRules(randomRule(numberOfRules))\n    }, [numberOfRules])\n\n    React.useEffect(() => {\n        setCells([randomArray(boardWidth)])\n    }, [boardWidth])\n\n    const initBoard = () => {\n        setIteration(0)\n        setCells([randomArray(boardWidth)])\n    }\n    const clear = () => {\n        setIteration(0)\n        setCells([emptyArray(boardWidth)])\n    }\n\n    const nextInterval = () => {\n        if (iterations >= maxNumberSteps) return;\n        setIteration((iterations) => {\n            return iterations + 1\n        })\n        setCells((rows) => {\n            const newRows = [...rows];\n            const generatedNewRow = generateNewRow(rows[rows.length - 1], neighborhood, rules);\n            newRows.push(generatedNewRow);\n            return newRows;\n        })\n    }\n\n    const _setRunning = (isRunning: boolean) => {\n        if (running) {\n            clearInterval(running);\n        }\n        if (isRunning) {\n            const running = setInterval(nextInterval, delay);\n            setRunning(running);\n        } else {\n            setRunning(undefined);\n        }\n    }\n\n\n    React.useEffect(() => {\n        if (cells.length < 2) return\n        if (compareArrays(cells[cells.length - 1], cells[cells.length - 2])) {\n            _setRunning(false)\n        }\n    }, [cells])\n\n    React.useEffect(() => {\n        if (iterations >= maxNumberSteps) {\n            _setRunning(false)\n        }\n    }, [iterations, maxNumberSteps])\n\n    const actions = (\n        <div className=\"buttons is-centered\">\n            <div className={\"configItem\"}>\n                {\n                    running\n                        ? <button className=\"button is-danger\" onClick={() => _setRunning(false)}>Stop</button>\n                        : <button className=\"button is-success\" onClick={() => _setRunning(true)}>Start</button>\n                }\n            </div>\n            <div className={\"configItem\"}>\n                <button className=\"button is-info\" onClick={nextInterval}>Step</button>\n            </div>\n            <div className={\"configItem\"}>\n                <button className=\"button is-info\" onClick={initBoard}>Random Init</button>\n            </div>\n            <div className={\"configItem \"}>\n                <button className=\"button is-danger\" onClick={clear}>Clear</button>\n            </div>\n        </div>\n    )\n    const onClick = (cell: CellType, key: number) => {\n        if (iterations === 0) {\n            const newCell: CellType = { ...cell, active: !cell.active }\n            const newRows = [...cells];\n            newRows[0][key] = newCell\n            setCells(newRows);\n        }\n    }\n\n    return (\n        <div className=\"App container\">\n            <h1 className=\"title\">BIN - cellular automata visualization</h1>\n            <h4 className=\"subtitle\">Alena Tesařová (xtesar36@stud.fit.vutbr.cz)</h4>\n            <AutomataConfig\n                boardWidth={boardWidth}\n                delay={delay}\n                maxNumberSteps={maxNumberSteps}\n                setMaxNumberSteps={setMaxNumberSteps}\n                neighborhood={neighborhood}\n                setNeighborhood={(value) => {\n                    setNeighborhood(value)\n\n                }}\n                setBoardWidth={setBoardWidth}\n                setDelay={setDelay}\n            />\n            <br/>\n            <br/>\n            <div>\n                {cells.map((row, key) => (\n                    <Automata cells={row}\n                              key={key}\n                              onClick={key === 0 ? onClick : undefined}\n                    />\n                ))}\n            </div>\n            <br/>\n            Iteration: <span className=\"tag is-success\">{iterations}</span>\n            <br/>\n            <br/>\n            {actions}\n            <ConfigRulesSection\n                ruleLength={ruleLength}\n                rules={rules}\n                setRules={setRules}\n            />\n            <ImportRulesSection\n                setNeighborhood={setNeighborhood}\n                setRules={setRules}\n                setBoardWidth={setBoardWidth}\n                setMaxNumberSteps={setMaxNumberSteps}\n            />\n\n        </div>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport '../node_modules/bulma/css/bulma.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}