(this.webpackJsonpbinapp=this.webpackJsonpbinapp||[]).push([[0],{13:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(8),i=n.n(s),r=n(3),l=n(4),o=n(2),u=(n(13),n(0)),j=function(e){var t=e.cell,n=e.onClick,c=e.index;return Object(u.jsx)("div",{className:"cell",style:t.active?{background:"black"}:{background:"white"},onClick:function(){return n?n(t,c):console.log("you can change cells only in the first iteration")}})},b=function(e){var t=e.cells,n=e.onClick;return Object(u.jsx)("div",{className:"row",children:t.map((function(e,t){return Object(u.jsx)(j,{cell:e,index:t,onClick:n},t)}))})},d=function(e){return Array(e).fill(void 0).map((function(){return Math.floor(10*Math.random())%2===0?{active:!0}:{active:!1}}))},h=function(e){return Array(e).fill(0).map((function(e,t){return{value:Math.floor(10*Math.random())%2===0,index:t}}))},O=function(e){return Array(e).fill(void 0).map((function(){return{active:!1}}))},f=function(e,t,n,c){var a=function(e,t,n){for(var c=1,a=0,s=e+n;s>=e-n;s--)console.log("text",c),a+=(void 0!==t[s]&&t[s].active?1:0)*c,c+=c;return a}(e,t,n);return console.log("applyRule",a,t,e,c),void 0===c[a]?(alert("Please reinit the rules"),!1):c[a].value},m=function(e){var t=e.boardWidth,n=e.setBoardWidth,c=e.neighborhood,a=e.setNeighborhood,s=e.delay,i=e.setDelay,r=e.maxNumberSteps,l=e.setMaxNumberSteps;return Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"configItem field",children:[Object(u.jsx)("div",{className:"field-label is-normal",children:Object(u.jsx)("label",{className:"label",children:"Number of rows: "})}),Object(u.jsx)("div",{className:"field-body",children:Object(u.jsx)("input",{className:"input shortInput",pattern:"^\\d*$",defaultValue:t,onChange:function(e){var t=parseInt(e.currentTarget.value);t>=10&&t<=100&&n(t)}})})]}),Object(u.jsxs)("div",{className:"configItem",children:[Object(u.jsx)("label",{className:"label",children:"Neighborhood: "}),Object(u.jsx)("div",{className:"select",children:Object(u.jsxs)("select",{name:"sur",id:"neighborhood",onChange:function(e){var t=e.target.value;a(parseInt(t))},defaultValue:c.toString(),children:[Object(u.jsx)("option",{value:"1",children:"1-neighborhood"}),Object(u.jsx)("option",{value:"2",children:"2-neighborhood"}),Object(u.jsx)("option",{value:"3",children:"3-neighborhood"}),Object(u.jsx)("option",{value:"4",children:"4-neighborhood"})]})})]}),Object(u.jsxs)("div",{className:"configItem",children:[Object(u.jsx)("label",{className:"label",children:"Delay: "}),Object(u.jsx)("input",{className:"input shortInput",pattern:"^\\d*$",defaultValue:s,type:"number",onChange:function(e){var t=parseInt(e.currentTarget.value);i(t)}})]}),Object(u.jsxs)("div",{className:"configItem",children:[Object(u.jsx)("label",{className:"label",children:"Maximum number of steps: "}),Object(u.jsx)("input",{className:"input shortInput",pattern:"^\\d*$",defaultValue:r,type:"number",onChange:function(e){var t=parseInt(e.currentTarget.value);l(t)}})]})]})},v=function(e){var t=e.rule,n=e.ruleLength,c=e.onClick,a=t.index,s=t.value;console.log(t,"rule");var i=a.toString(2).padStart(n,"0"),r=Object(l.a)(Array.from(i)).map((function(e,t){return Object(u.jsx)(j,{index:t,cell:{active:!!parseInt(e)}})}));return console.log(i,a),Object(u.jsxs)("div",{className:"column",children:[Object(u.jsx)("div",{className:"row",children:r}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(j,{index:a,cell:{active:s},onClick:c})})]})},x=function(e){var t=e.rules,n=e.ruleLength,c=e.setRules,a=t.length,s=function(e,n){var a=Object(l.a)(t);a[n]=Object(r.a)(Object(r.a)({},a[n]),{},{value:!a[n].value}),c(a)};return Object(u.jsxs)("div",{className:"section card",children:[Object(u.jsx)("h3",{className:"subtitle",children:"Create rules manually"}),Object(u.jsx)("div",{className:"columns is-multiline",children:t.map((function(e,t){return Object(u.jsx)(v,{rule:e,ruleLength:n,onClick:s},t)}))}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"configItem",children:Object(u.jsx)("button",{className:"button is-info",onClick:function(){c(h(a))},children:"Random Init rules"})}),Object(u.jsx)("div",{className:"configItem ",children:Object(u.jsx)("button",{className:"button is-danger",onClick:function(){c(Array(a).fill(0).map((function(e,t){return{value:!1,index:t}})))},children:"Clear rules"})})]})]})},g=function(e){var t=e.setNeighborhood,n=e.setRules,a=Object(c.useState)(""),s=Object(o.a)(a,2),i=s[0],r=s[1];return Object(u.jsxs)("div",{className:"section",children:[Object(u.jsx)("h3",{className:"subtitle",children:"Import rules"}),Object(u.jsx)("div",{className:"jsonDiv",children:Object(u.jsx)("textarea",{className:"textarea",rows:4,cols:50,onChange:function(e){r(e.target.value)},placeholder:"Insert JSON values from script"})}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:"button is-primary",onClick:function(){try{var e=JSON.parse(i),c=e.data,a=parseInt(e.neighborhood);if(c&&a){var s=Math.pow(2,2*a+1);s!==c.length?alert("Rule length must be "+s):(t(a),n(c.map((function(e,t){return{value:!!e,index:t}}))))}}catch(r){alert("Invalid json")}},children:"Inicialize rules"})]})},p=function(){var e=Object(c.useState)(10),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(1),j=Object(o.a)(i,2),v=j[0],p=j[1],N=Object(c.useState)(void 0),I=Object(o.a)(N,2),C=I[0],S=I[1],k=Object(c.useState)(1e3),y=Object(o.a)(k,2),w=y[0],M=y[1],R=Object(c.useState)(0),A=Object(o.a)(R,2),L=A[0],B=A[1],D=Object(c.useState)([d(n)]),T=Object(o.a)(D,2),E=T[0],F=T[1],J=Object(c.useState)(10),V=Object(o.a)(J,2),W=V[0],P=V[1],$=2*v+1,z=Math.pow(2,$),q=Object(c.useState)(h(z)),G=Object(o.a)(q,2),H=G[0],K=G[1];a.a.useEffect((function(){K(h(z))}),[z]);var Q=function(){L>=W||(B((function(e){return e+1})),F((function(e){var t=Object(l.a)(e),n=function(e,t,n){return e.map((function(c,a){return Object(r.a)(Object(r.a)({},c),{},{active:f(a,e,t,n)})}))}(e[e.length-1],v,H);return t.push(n),t})))},U=function(e){if(C&&clearInterval(C),e){var t=setInterval(Q,w);S(t)}else S(void 0)};a.a.useEffect((function(){E.length<2||function(e,t){for(var n=0;n<e.length;n++)if(e[n].active!==t[n].active)return!1;return!0}(E[E.length-1],E[E.length-2])&&U(!1)}),[E]),a.a.useEffect((function(){L>=W&&U(!1)}),[L,W]);var X=Object(u.jsxs)("div",{className:"buttons is-centered",children:[Object(u.jsx)("div",{className:"configItem",children:C?Object(u.jsx)("button",{className:"button is-danger",onClick:function(){return U(!1)},children:"Stop"}):Object(u.jsx)("button",{className:"button is-success",onClick:function(){return U(!0)},children:"Start"})}),Object(u.jsx)("div",{className:"configItem",children:Object(u.jsx)("button",{className:"button is-info",onClick:Q,children:"Step"})}),Object(u.jsx)("div",{className:"configItem",children:Object(u.jsx)("button",{className:"button is-info",onClick:function(){B(0),F([d(n)])},children:"Random Init"})}),Object(u.jsx)("div",{className:"configItem ",children:Object(u.jsx)("button",{className:"button is-danger",onClick:function(){B(0),F([O(n)])},children:"Clear"})})]}),Y=function(e,t){if(0===L){var n=Object(r.a)(Object(r.a)({},e),{},{active:!e.active}),c=Object(l.a)(E);c[0][t]=n,F(c)}};return Object(u.jsxs)("div",{className:"App container",children:[Object(u.jsx)("h1",{className:"title",children:"BIN - visualization cellular automata"}),Object(u.jsx)(m,{boardWidth:n,delay:w,maxNumberSteps:W,setMaxNumberSteps:P,neighborhood:v,setNeighborhood:function(e){p(e)},setBoardWidth:s,setDelay:M}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{children:E.map((function(e,t){return Object(u.jsx)(b,{cells:e,onClick:0===t?Y:void 0},t)}))}),Object(u.jsx)("br",{}),"Iteration: ",Object(u.jsx)("span",{className:"tag is-success",children:L}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),X,Object(u.jsx)(x,{ruleLength:$,rules:H,setRules:K}),Object(u.jsx)(g,{setNeighborhood:p,setRules:K})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};n(15),n(16);i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root")),N()}},[[17,1,2]]]);
//# sourceMappingURL=main.99a9b026.chunk.js.map