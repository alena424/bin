(this.webpackJsonpbinapp=this.webpackJsonpbinapp||[]).push([[0],{13:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(8),i=n.n(s),r=n(3),l=n(4),o=n(2),u=(n(13),n(0)),j=function(e){var t=e.cell,n=e.onClick,c=e.index;return Object(u.jsx)("div",{className:"cell",style:t.active?{background:"black"}:{background:"white"},onClick:function(){return n?n(t,c):console.log("you can change cells only in the first iteration")}})},b=function(e){var t=e.cells,n=e.onClick,c=t.filter((function(e){return e.active})).length,a=t.filter((function(e){return!e.active})).length;return Object(u.jsxs)("div",{className:"row",children:[t.map((function(e,t){return Object(u.jsx)(j,{cell:e,index:t,onClick:n},t)})),Object(u.jsx)("div",{className:"paddingLeft",children:Object(u.jsxs)("p",{children:["(black: ",c,", white: ",a,")"]})})]})},d=function(e){return Array(e).fill(void 0).map((function(){return Math.floor(10*Math.random())%2===0?{active:!0}:{active:!1}}))},h=function(e){return Array(e).fill(0).map((function(e,t){return{value:Math.floor(10*Math.random())%2===0,index:t}}))},f=function(e){return Array(e).fill(void 0).map((function(){return{active:!1}}))},v=function(e,t,n,c){var a=function(e,t,n){for(var c=1,a=0,s=e+n;s>=e-n;s--)console.log("text",c),a+=(void 0!==t[s]&&t[s].active?1:0)*c,c+=c;return a}(e,t,n);return console.log("applyRule",a,t,e,c),void 0===c[a]?(alert("Please reinit the rules"),!1):c[a].value},O=function(e){var t=e.boardWidth,n=e.setBoardWidth,c=e.neighborhood,a=e.setNeighborhood,s=e.delay,i=e.setDelay,r=e.maxNumberSteps,l=e.setMaxNumberSteps;return Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"configItem field",children:[Object(u.jsx)("div",{className:"field-label is-normal",children:Object(u.jsx)("label",{className:"label",children:"Number of rows: "})}),Object(u.jsx)("div",{className:"field-body",children:Object(u.jsx)("input",{className:"input shortInput",pattern:"^\\d*$",value:t,onChange:function(e){var t=parseInt(e.currentTarget.value);t>=1&&t<=100&&n(t)}})})]}),Object(u.jsxs)("div",{className:"configItem",children:[Object(u.jsx)("label",{className:"label",children:"Neighborhood: "}),Object(u.jsx)("div",{className:"select",children:Object(u.jsxs)("select",{name:"sur",id:"neighborhood",onChange:function(e){var t=e.target.value;a(parseInt(t))},value:c.toString(),children:[Object(u.jsx)("option",{value:"1",children:"1-neighborhood"}),Object(u.jsx)("option",{value:"2",children:"2-neighborhood"}),Object(u.jsx)("option",{value:"3",children:"3-neighborhood"}),Object(u.jsx)("option",{value:"4",children:"4-neighborhood"})]})})]}),Object(u.jsxs)("div",{className:"configItem",children:[Object(u.jsx)("label",{className:"label",children:"Delay: "}),Object(u.jsx)("input",{className:"input shortInput",pattern:"^\\d*$",defaultValue:s,type:"number",onChange:function(e){var t=parseInt(e.currentTarget.value);i(t)}})]}),Object(u.jsxs)("div",{className:"configItem",children:[Object(u.jsx)("label",{className:"label",children:"Maximum number of steps: "}),Object(u.jsx)("input",{className:"input shortInput",pattern:"^\\d*$",value:r,type:"number",onChange:function(e){var t=parseInt(e.currentTarget.value);l(t)}})]})]})},m=function(e){var t=e.rule,n=e.ruleLength,c=e.onClick,a=t.index,s=t.value;console.log(t,"rule");var i=a.toString(2).padStart(n,"0"),r=Object(l.a)(Array.from(i)).map((function(e,t){return Object(u.jsx)(j,{index:t,cell:{active:!!parseInt(e)}})}));return console.log(i,a),Object(u.jsxs)("div",{className:"column",children:[Object(u.jsx)("div",{className:"row",children:r}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(j,{index:a,cell:{active:s},onClick:c})})]})},x=function(e){var t=e.rules,n=e.ruleLength,c=e.setRules,a=t.length,s=function(e,n){var a=Object(l.a)(t);a[n]=Object(r.a)(Object(r.a)({},a[n]),{},{value:!a[n].value}),c(a)};return Object(u.jsxs)("div",{className:"section card",children:[Object(u.jsx)("h3",{className:"subtitle",children:"Create rules manually"}),Object(u.jsx)("div",{className:"columns is-multiline",children:t.map((function(e,t){return Object(u.jsx)(m,{rule:e,ruleLength:n,onClick:s},t)}))}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"configItem",children:Object(u.jsx)("button",{className:"button is-info",onClick:function(){c(h(a))},children:"Random Init rules"})}),Object(u.jsx)("div",{className:"configItem ",children:Object(u.jsx)("button",{className:"button is-danger",onClick:function(){c(Array(a).fill(0).map((function(e,t){return{value:!1,index:t}})))},children:"Clear rules"})})]})]})},p=function(e){var t=e.setNeighborhood,n=e.setRules,a=e.setBoardWidth,s=e.setMaxNumberSteps,i=Object(c.useState)(""),r=Object(o.a)(i,2),l=r[0],j=r[1];return Object(u.jsxs)("div",{className:"section",children:[Object(u.jsx)("h3",{className:"subtitle",children:"Import rules"}),Object(u.jsx)("div",{className:"jsonDiv",children:Object(u.jsx)("textarea",{className:"textarea",rows:4,cols:50,onChange:function(e){j(e.target.value)},placeholder:"Insert JSON values from script"})}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:"button is-primary",onClick:function(){try{var e=JSON.parse(l),c=e.data,i=parseInt(e.neighborhood),r=parseInt(e.cellular_length),o=parseInt(e.steps);if(c&&i){var u=Math.pow(2,2*i+1);u!==c.length?alert("Rule length must be "+u):(s(o),a(r),t(i),n(c.map((function(e,t){return{value:!!e,index:t}}))))}}catch(j){alert("Invalid json")}},children:"Inicialize rules"})]})},g=function(){var e=Object(c.useState)(10),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(1),j=Object(o.a)(i,2),m=j[0],g=j[1],N=Object(c.useState)(void 0),I=Object(o.a)(N,2),C=I[0],S=I[1],k=Object(c.useState)(1e3),y=Object(o.a)(k,2),w=y[0],M=y[1],R=Object(c.useState)(0),A=Object(o.a)(R,2),B=A[0],L=A[1],T=Object(c.useState)([d(n)]),W=Object(o.a)(T,2),D=W[0],E=W[1],F=Object(c.useState)(20),J=Object(o.a)(F,2),z=J[0],P=J[1],$=2*m+1,V=Math.pow(2,$),_=Object(c.useState)(h(V)),q=Object(o.a)(_,2),G=q[0],H=q[1];a.a.useEffect((function(){H(h(V))}),[V]),a.a.useEffect((function(){E([d(n)])}),[n]);var K=function(){B>=z||(L((function(e){return e+1})),E((function(e){var t=Object(l.a)(e),n=function(e,t,n){return e.map((function(c,a){return Object(r.a)(Object(r.a)({},c),{},{active:v(a,e,t,n)})}))}(e[e.length-1],m,G);return t.push(n),t})))},Q=function(e){if(C&&clearInterval(C),e){var t=setInterval(K,w);S(t)}else S(void 0)};a.a.useEffect((function(){D.length<2||function(e,t){for(var n=0;n<e.length;n++)if(e[n].active!==t[n].active)return!1;return!0}(D[D.length-1],D[D.length-2])&&Q(!1)}),[D]),a.a.useEffect((function(){B>=z&&Q(!1)}),[B,z]);var U=Object(u.jsxs)("div",{className:"buttons is-centered",children:[Object(u.jsx)("div",{className:"configItem",children:C?Object(u.jsx)("button",{className:"button is-danger",onClick:function(){return Q(!1)},children:"Stop"}):Object(u.jsx)("button",{className:"button is-success",onClick:function(){return Q(!0)},children:"Start"})}),Object(u.jsx)("div",{className:"configItem",children:Object(u.jsx)("button",{className:"button is-info",onClick:K,children:"Step"})}),Object(u.jsx)("div",{className:"configItem",children:Object(u.jsx)("button",{className:"button is-info",onClick:function(){L(0),E([d(n)])},children:"Random Init"})}),Object(u.jsx)("div",{className:"configItem ",children:Object(u.jsx)("button",{className:"button is-danger",onClick:function(){L(0),E([f(n)])},children:"Clear"})})]}),X=function(e,t){if(0===B){var n=Object(r.a)(Object(r.a)({},e),{},{active:!e.active}),c=Object(l.a)(D);c[0][t]=n,E(c)}};return Object(u.jsxs)("div",{className:"App container",children:[Object(u.jsx)("h1",{className:"title",children:"BIN - cellular automata visualization"}),Object(u.jsx)("h4",{className:"subtitle",children:"Alena Tesa\u0159ov\xe1 (xtesar36@stud.fit.vutbr.cz)"}),Object(u.jsx)(O,{boardWidth:n,delay:w,maxNumberSteps:z,setMaxNumberSteps:P,neighborhood:m,setNeighborhood:function(e){g(e)},setBoardWidth:s,setDelay:M}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{children:D.map((function(e,t){return Object(u.jsx)(b,{cells:e,onClick:0===t?X:void 0},t)}))}),Object(u.jsx)("br",{}),"Iteration: ",Object(u.jsx)("span",{className:"tag is-success",children:B}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),U,Object(u.jsx)(x,{ruleLength:$,rules:G,setRules:H}),Object(u.jsx)(p,{setNeighborhood:g,setRules:H,setBoardWidth:s,setMaxNumberSteps:P})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};n(15),n(16);i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root")),N()}},[[17,1,2]]]);
//# sourceMappingURL=main.7e98bfe1.chunk.js.map